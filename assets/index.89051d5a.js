import{r as f,o as g,a as d,c,b as e,w as p,v as h,d as _,e as x,F as I,f as P,g as v,t as m,h as k}from"./vendor.2059a0d4.js";const w=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(t){if(t.ep)return;t.ep=!0;const l=i(t);fetch(t.href,l)}};w();const D={class:"container mx-auto p-6"},U=e("h1",{class:"text-xl font-semibold"},"\u66F8\u7C4D\u691C\u7D22",-1),L=e("div",{class:"mt-2"},"\u697D\u5929\u306E\u66F8\u7C4D\u691C\u7D22API\u3092\u5229\u7528\u3057\u3066\u691C\u7D22\u3067\u304D\u307E\u3059\u3002",-1),S=e("div",{class:"text-sm text-gray-500"},[v(" \u203B\u691C\u7D22\u306B\u306F"),e("a",{class:"text-blue-400",href:"https://webservice.rakuten.co.jp/guide"},"\u30A2\u30D7\u30EAID"),v("\u304C\u5FC5\u8981\u3067\u3059\u3002 ")],-1),V=["onSubmit"],A=e("label",{for:"appId"},"\u30A2\u30D7\u30EAID",-1),B={class:"mt-2"},N=e("label",{for:"title"},"\u30BF\u30A4\u30C8\u30EB",-1),M={class:"mt-2"},R=e("label",{for:"standard"},"\u6A19\u6E96",-1),O=e("label",{for:"sales"},"\u58F2\u308C\u3066\u3044\u308B\u9806",-1),j=e("label",{for:"-releaseDate"},"\u767A\u58F2\u65E5\u304C\u65B0\u3057\u3044\u9806",-1),F=e("button",{class:"btn"},"\u691C\u7D22",-1),E={key:0},T={key:1,class:"mt-2 overflow-auto shadow-md"},q={class:"table-fixed min-w-full"},C=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-2"}),e("th",null,"\u30BF\u30A4\u30C8\u30EB / \u8457\u8005"),e("th",null,"\u767A\u58F2\u65E5"),e("th",null,"ISBN")])],-1),K={class:"pr-0"},$=["src","alt"],z=["href"],G={class:"mt-1 text-xs"},H={setup(y){const o=f(""),i=f(""),a=f("standard"),t=f(null);g(()=>{localStorage.getItem("APP_ID")&&(o.value=localStorage.getItem("APP_ID"))});async function l(){if(t.value=null,!u())return;const r=await fetch(b());t.value=await r.json(),localStorage.setItem("APP_ID",o.value)}function u(){return!(!o.value||!i.value||!a.value)}function b(){const r=new URL("https://app.rakuten.co.jp/services/api/BooksBook/Search/20170404");return r.searchParams.append("applicationId",o.value),r.searchParams.append("title",i.value),r.searchParams.append("sort",a.value),r.searchParams.append("formatVersion","2"),r}return(r,n)=>(d(),c("main",D,[U,L,S,e("form",{onSubmit:x(l,["prevent"]),class:"my-4"},[e("fieldset",null,[A,p(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>o.value=s),id:"appId",type:"text"},null,512),[[h,o.value]])]),e("fieldset",B,[N,p(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>i.value=s),id:"title",type:"text"},null,512),[[h,i.value]])]),e("fieldset",M,[p(e("input",{type:"radio",id:"standard",value:"standard","onUpdate:modelValue":n[2]||(n[2]=s=>a.value=s)},null,512),[[_,a.value]]),R,p(e("input",{type:"radio",id:"sales",value:"sales","onUpdate:modelValue":n[3]||(n[3]=s=>a.value=s),class:"ml-2"},null,512),[[_,a.value]]),O,p(e("input",{type:"radio",id:"-releaseDate",value:"-releaseDate","onUpdate:modelValue":n[4]||(n[4]=s=>a.value=s),class:"ml-2"},null,512),[[_,a.value]]),j]),F],40,V),!t.value||t.value.Items.length==0?(d(),c("p",E," \u4E00\u81F4\u3059\u308B\u691C\u7D22\u7D50\u679C\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002 ")):(d(),c("div",T,[e("table",q,[C,e("tbody",null,[(d(!0),c(I,null,P(t.value.Items,s=>(d(),c("tr",{key:s.itemUrl},[e("td",K,[e("img",{src:s.smallImageUrl,alt:s.title,class:"h-12"},null,8,$)]),e("td",null,[e("a",{href:`https://bookmeter.com/search?keyword=${s.isbn}`,class:"text-blue-600 font-semibold",target:"_blank",rel:"noopener noreferrer"},m(s.title),9,z),e("p",G,m(s.author),1)]),e("td",null,m(s.salesDate),1),e("td",null,m(s.isbn),1)]))),128))])])]))]))}};k(H).mount("#app");
